<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width = device-width, initial-scale = 1.0" />  
<link rel="stylesheet" href="chessboard.css">
</head>

<body>
<div class="background">
    <div class="figurebox">
        <div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
        </div>
        <div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
        </div>
    </div>
    <div class="chessboard">
      <div class="row_a"> 
        <div class="field"><span class="black figure" draggable="true">t</span></div>
        <div class="field"><span class="black figure" draggable="true">m</span></div>
        <div class="field"><span class="black figure" draggable="true">v</span></div>
        <div class="field"><span class="black figure" draggable="true">w</span></div>
        <div class="field"><span class="black figure" draggable="true">l</span></div>
        <div class="field"><span class="black figure" draggable="true">v</span></div>
        <div class="field"><span class="black figure" draggable="true">m</span></div>
        <div class="field"><span class="black figure" draggable="true">t</span></div>
      </div>
      <div class="row_b">
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        <div class="field"><span class="black figure" draggable="true">o</span></div>
        </div>
    <div class="row_a"> 
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        </div>
    <div class="row_b">
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
    </div>
    <div class="row_a">
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
    </div>
    <div class="row_b">
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
        <div class="field"></div>
    </div>
    <div class="row_a">
        <div class="field"><span class="white figure" draggable="true">o</span></div>
        <div class="field"><span class="white figure" draggable="true">o</span></div>
        <div class="field"><span class="white figure" draggable="true">o</span></div>
        <div class="field"><span class="white figure" draggable="true">o</span></div>
        <div class="field"><span class="white figure" draggable="true">o</span></div>
        <div class="field"><span class="white figure" draggable="true">o</span></div>
        <div class="field"><span class="white figure" draggable="true">o</span></div>
        <div class="field"><span class="white figure" draggable="true">o</span></div>
    </div>
    <div class="row_b">
        <div class="field"><span class="white figure" draggable="true">t</span></div>
        <div class="field"><span class="white figure" draggable="true">m</span></div>
        <div class="field"><span class="white figure" draggable="true">v</span></div>
        <div class="field"><span class="white figure" draggable="true">l</span></div>
        <div class="field"><span class="white figure" draggable="true">w</span></div>
        <div class="field"><span class="white figure" draggable="true">v</span></div>
        <div class="field"><span class="white figure" draggable="true">m</span></div>
        <div class="field"><span class="white figure" draggable="true">t</span></div>
    </div>
    </div>
    <div class="figurebox">
        <div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
        </div>
        <div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
            <div class="field"></div>
        </div>
    </div>
</div>
</body>
<script>
    /*selektiert alle Html elemente und gibts sie als liste zurück*/
    const figures = document.getElementsByClassName("figure");
    const fields = document.getElementsByClassName("field");
    /*erstellt eine variable names x und weist ihr die zahl 0 zu*/
    var x=0;
    /*loop*/
    for (const figure of figures){
        /*ist eine addition von x0 zu x1...*/
        x++;
        /*setzt ein attriebut in diesem fall eine ID, basierent auf x*/
        figure.setAttribute("id", "fig"+x);
        /*event wird ausgelöst worauf er hören soll und dann gegebenfalls eine aktion ausgefürt wird*/
        figure.addEventListener("dragstart", function (ereignis) {
        ereignis.dataTransfer.setData("text/plain", ereignis.target.id);
    });
    }
    for (const field of fields){
        field.addEventListener("dragover", function (ereignis) {
        ereignis.preventDefault();
        ereignis.dataTransfer.dropEffect = "move";
        });
        field.addEventListener("drop", function (ereignis) {
        ereignis.preventDefault();
        const readfieldid = ereignis.dataTransfer.getData("text/plain");
        const dragElement = document.getElementById(readfieldid);
        ereignis.target.appendChild(dragElement);
        });
    }
</script>
</html>
